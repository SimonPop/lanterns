const data = {"directed": true, "multigraph": false, "graph": {}, "nodes": [{"random_walk_pe": [0.0, 0.3246527910232544, 0.10100694000720978, 0.20139916241168976, 0.12548770010471344, 0.15846572816371918, 0.12767396867275238, 0.1383797824382782, 0.12417694926261902, 0.1271466165781021], "id": 0}, {"random_walk_pe": [0.0, 0.26250001788139343, 0.05884258821606636, 0.13021916151046753, 0.06936421990394592, 0.09004172682762146, 0.06762079149484634, 0.07405828684568405, 0.06456019729375839, 0.06666284799575806], "id": 1}, {"random_walk_pe": [0.0, 0.21569445729255676, 0.043634265661239624, 0.10534033179283142, 0.05999044328927994, 0.0782964900135994, 0.06420809030532837, 0.06970179080963135, 0.06486225873231888, 0.06650571525096893], "id": 2}, {"random_walk_pe": [0.0, 0.2039351761341095, 0.05956018716096878, 0.08695046603679657, 0.059076905250549316, 0.05966207757592201, 0.05190708488225937, 0.049809157848358154, 0.04673103243112564, 0.04513394832611084], "id": 3}, {"random_walk_pe": [0.0, 0.2152777910232544, 0.02430555783212185, 0.10461276769638062, 0.04129340499639511, 0.06592637300491333, 0.04224392771720886, 0.04840292036533356, 0.03851190209388733, 0.039009202271699905], "id": 4}, {"random_walk_pe": [0.0, 0.2864583432674408, 0.0807291716337204, 0.15398040413856506, 0.08478949964046478, 0.10068266093730927, 0.07361051440238953, 0.07434901595115662, 0.061947766691446304, 0.059229955077171326], "id": 5}, {"random_walk_pe": [0.0, 0.2864583432674408, 0.0807291716337204, 0.15398040413856506, 0.08478949964046478, 0.10068266093730927, 0.07361051440238953, 0.07434901595115662, 0.061947766691446304, 0.059229955077171326], "id": 6}, {"random_walk_pe": [0.0, 0.11006943881511688, 0.034953705966472626, 0.05696004629135132, 0.0351208820939064, 0.040524907410144806, 0.03225548565387726, 0.03354540839791298, 0.029959633946418762, 0.030156899243593216], "id": 7}, {"random_walk_pe": [0.0, 0.11093137413263321, 0.02200980670750141, 0.048876985907554626, 0.029585126787424088, 0.03823384642601013, 0.03153214976191521, 0.03498764708638191, 0.03209483623504639, 0.03364820033311844], "id": 8}, {"random_walk_pe": [0.0, 0.07941176742315292, 0.0, 0.0299773421138525, 0.008154336363077164, 0.019217535853385925, 0.011489203199744225, 0.015800323337316513, 0.01264408603310585, 0.014425249770283699], "id": 9}, {"random_walk_pe": [0.0, 0.2152777910232544, 0.0243055559694767, 0.10461276769638062, 0.04129340499639511, 0.06592637300491333, 0.04224392771720886, 0.04840292036533356, 0.03851190209388733, 0.039009202271699905], "id": 10}, {"random_walk_pe": [0.0, 0.0625, 0.0, 0.0202907994389534, 0.006312933750450611, 0.01258744765073061, 0.00784298125654459, 0.0099041061475873, 0.007979623042047024, 0.008648735471069813], "id": 11}, {"random_walk_pe": [0.0, 0.1145833358168602, 0.010416666977107525, 0.03923490643501282, 0.017479626461863518, 0.023683924227952957, 0.01747942343354225, 0.01865098997950554, 0.016333527863025665, 0.016396954655647278], "id": 12}, {"random_walk_pe": [0.0, 0.09982027113437653, 0.02796296402812004, 0.057400863617658615, 0.03309859335422516, 0.04352191835641861, 0.03352205827832222, 0.037721529603004456, 0.03317593038082123, 0.03500523790717125], "id": 13}, {"random_walk_pe": [0.0, 0.07107843458652496, 0.0049019609577953815, 0.040396321564912796, 0.010460879653692245, 0.02761661261320114, 0.013056687079370022, 0.02137475460767746, 0.014048395678400993, 0.01807074435055256], "id": 14}, {"random_walk_pe": [0.0, 0.07107843458652496, 0.0049019609577953815, 0.040396321564912796, 0.010460879653692245, 0.02761661261320114, 0.013056687079370022, 0.02137475460767746, 0.014048395678400993, 0.01807074435055256], "id": 15}, {"random_walk_pe": [0.0, 0.25, 0.0625, 0.1067708358168602, 0.0616319477558136, 0.06458424031734467, 0.04963156208395958, 0.04611986130475998, 0.039267782121896744, 0.035738036036491394], "id": 16}, {"random_walk_pe": [0.0, 0.0868055522441864, 0.0069444444961845875, 0.03896484524011612, 0.013417687267065048, 0.024582114070653915, 0.015062713995575905, 0.01897769421339035, 0.015030491165816784, 0.016405615955591202], "id": 17}, {"random_walk_pe": [0.0, 0.07107843458652496, 0.0049019609577953815, 0.040396321564912796, 0.010460879653692245, 0.02761661261320114, 0.013056687079370022, 0.02137475460767746, 0.014048395678400993, 0.01807074435055256], "id": 18}, {"random_walk_pe": [0.0, 0.07747821509838104, 0.004629629664123058, 0.03824694827198982, 0.012787532061338425, 0.027494359761476517, 0.016504595056176186, 0.02317829802632332, 0.018075741827487946, 0.021217623725533485], "id": 19}, {"random_walk_pe": [0.0, 0.07107843458652496, 0.0049019609577953815, 0.040396321564912796, 0.010460879653692245, 0.02761661261320114, 0.013056687079370022, 0.02137475460767746, 0.014048395678400993, 0.01807074435055256], "id": 20}, {"random_walk_pe": [0.0, 0.0868055522441864, 0.0069444444961845875, 0.03896484524011612, 0.013417687267065048, 0.024582114070653915, 0.015062713995575905, 0.01897769421339035, 0.015030491165816784, 0.016405615955591202], "id": 21}, {"random_walk_pe": [0.0, 0.07107843458652496, 0.0049019609577953815, 0.040396321564912796, 0.010460879653692245, 0.02761661261320114, 0.013056687079370022, 0.02137475460767746, 0.014048395678400993, 0.01807074435055256], "id": 22}, {"random_walk_pe": [0.0, 0.19509804248809814, 0.022058824077248573, 0.0996893048286438, 0.037472330033779144, 0.0660824105143547, 0.04142984747886658, 0.0515647791326046, 0.04106811061501503, 0.04437193647027016], "id": 23}, {"random_walk_pe": [0.0, 0.25, 0.037037041038274765, 0.104368656873703, 0.034215010702610016, 0.05457798019051552, 0.029203221201896667, 0.03562541678547859, 0.025851251557469368, 0.02777199074625969], "id": 24}, {"random_walk_pe": [0.0, 0.23333334922790527, 0.037037041038274765, 0.10077661275863647, 0.03354666382074356, 0.05477731302380562, 0.029151737689971924, 0.0364559032022953, 0.026157163083553314, 0.02853294648230076], "id": 25}, {"random_walk_pe": [0.0, 0.15441176295280457, 0.014705882407724857, 0.04781394451856613, 0.019007116556167603, 0.02623722516000271, 0.018617883324623108, 0.020078906789422035, 0.017405055463314056, 0.017516091465950012], "id": 26}, {"random_walk_pe": [0.0, 0.17303921282291412, 0.0058823530562222, 0.08003769814968109, 0.02230399288237095, 0.04973841458559036, 0.02781427465379238, 0.0377352312207222, 0.029024261981248856, 0.032473012804985046], "id": 27}, {"random_walk_pe": [0.0, 0.10849674046039581, 0.006535948254168034, 0.0391865149140358, 0.017324179410934448, 0.026059146970510483, 0.020158307626843452, 0.022484878078103065, 0.0205864105373621, 0.02116888016462326], "id": 28}, {"random_walk_pe": [0.0, 0.21053920686244965, 0.0313725508749485, 0.08081090450286865, 0.03780116140842438, 0.05022939294576645, 0.036999281495809555, 0.039939433336257935, 0.034766118973493576, 0.03512047231197357], "id": 29}, {"random_walk_pe": [0.0, 0.11331699788570404, 0.01666666939854622, 0.047167662531137466, 0.023671211674809456, 0.034281522035598755, 0.025569768622517586, 0.030014019459486008, 0.026088986545801163, 0.0281386636197567], "id": 30}, {"random_walk_pe": [0.0, 0.20077615976333618, 0.04520697891712189, 0.08848623931407928, 0.04713666811585426, 0.060252606868743896, 0.04466326907277107, 0.0498681403696537, 0.042835984379053116, 0.045149289071559906], "id": 31}, {"random_walk_pe": [0.0, 0.31045758724212646, 0.05496732145547867, 0.18529953062534332, 0.07782316207885742, 0.13598474860191345, 0.08554264903068542, 0.11221108585596085, 0.0871419683098793, 0.0994296446442604], "id": 32}, {"random_walk_pe": [0.0, 0.3392157554626465, 0.07385621219873428, 0.2264936864376068, 0.10411504656076431, 0.17612943053245544, 0.11553318053483963, 0.14992988109588623, 0.1189221665263176, 0.13527368009090424], "id": 33}], "links": [{"source": 0, "target": 1}, {"source": 0, "target": 2}, {"source": 0, "target": 3}, {"source": 0, "target": 4}, {"source": 0, "target": 5}, {"source": 0, "target": 6}, {"source": 0, "target": 7}, {"source": 0, "target": 8}, {"source": 0, "target": 10}, {"source": 0, "target": 11}, {"source": 0, "target": 12}, {"source": 0, "target": 13}, {"source": 0, "target": 17}, {"source": 0, "target": 19}, {"source": 0, "target": 21}, {"source": 0, "target": 31}, {"source": 1, "target": 0}, {"source": 1, "target": 2}, {"source": 1, "target": 3}, {"source": 1, "target": 7}, {"source": 1, "target": 13}, {"source": 1, "target": 17}, {"source": 1, "target": 19}, {"source": 1, "target": 21}, {"source": 1, "target": 30}, {"source": 2, "target": 0}, {"source": 2, "target": 1}, {"source": 2, "target": 3}, {"source": 2, "target": 7}, {"source": 2, "target": 8}, {"source": 2, "target": 9}, {"source": 2, "target": 13}, {"source": 2, "target": 27}, {"source": 2, "target": 28}, {"source": 2, "target": 32}, {"source": 3, "target": 0}, {"source": 3, "target": 1}, {"source": 3, "target": 2}, {"source": 3, "target": 7}, {"source": 3, "target": 12}, {"source": 3, "target": 13}, {"source": 4, "target": 0}, {"source": 4, "target": 6}, {"source": 4, "target": 10}, {"source": 5, "target": 0}, {"source": 5, "target": 6}, {"source": 5, "target": 10}, {"source": 5, "target": 16}, {"source": 6, "target": 0}, {"source": 6, "target": 4}, {"source": 6, "target": 5}, {"source": 6, "target": 16}, {"source": 7, "target": 0}, {"source": 7, "target": 1}, {"source": 7, "target": 2}, {"source": 7, "target": 3}, {"source": 8, "target": 0}, {"source": 8, "target": 2}, {"source": 8, "target": 30}, {"source": 8, "target": 32}, {"source": 8, "target": 33}, {"source": 9, "target": 2}, {"source": 9, "target": 33}, {"source": 10, "target": 0}, {"source": 10, "target": 4}, {"source": 10, "target": 5}, {"source": 11, "target": 0}, {"source": 12, "target": 0}, {"source": 12, "target": 3}, {"source": 13, "target": 0}, {"source": 13, "target": 1}, {"source": 13, "target": 2}, {"source": 13, "target": 3}, {"source": 13, "target": 33}, {"source": 14, "target": 32}, {"source": 14, "target": 33}, {"source": 15, "target": 32}, {"source": 15, "target": 33}, {"source": 16, "target": 5}, {"source": 16, "target": 6}, {"source": 17, "target": 0}, {"source": 17, "target": 1}, {"source": 18, "target": 32}, {"source": 18, "target": 33}, {"source": 19, "target": 0}, {"source": 19, "target": 1}, {"source": 19, "target": 33}, {"source": 20, "target": 32}, {"source": 20, "target": 33}, {"source": 21, "target": 0}, {"source": 21, "target": 1}, {"source": 22, "target": 32}, {"source": 22, "target": 33}, {"source": 23, "target": 25}, {"source": 23, "target": 27}, {"source": 23, "target": 29}, {"source": 23, "target": 32}, {"source": 23, "target": 33}, {"source": 24, "target": 25}, {"source": 24, "target": 27}, {"source": 24, "target": 31}, {"source": 25, "target": 23}, {"source": 25, "target": 24}, {"source": 25, "target": 31}, {"source": 26, "target": 29}, {"source": 26, "target": 33}, {"source": 27, "target": 2}, {"source": 27, "target": 23}, {"source": 27, "target": 24}, {"source": 27, "target": 33}, {"source": 28, "target": 2}, {"source": 28, "target": 31}, {"source": 28, "target": 33}, {"source": 29, "target": 23}, {"source": 29, "target": 26}, {"source": 29, "target": 32}, {"source": 29, "target": 33}, {"source": 30, "target": 1}, {"source": 30, "target": 8}, {"source": 30, "target": 32}, {"source": 30, "target": 33}, {"source": 31, "target": 0}, {"source": 31, "target": 24}, {"source": 31, "target": 25}, {"source": 31, "target": 28}, {"source": 31, "target": 32}, {"source": 31, "target": 33}, {"source": 32, "target": 2}, {"source": 32, "target": 8}, {"source": 32, "target": 14}, {"source": 32, "target": 15}, {"source": 32, "target": 18}, {"source": 32, "target": 20}, {"source": 32, "target": 22}, {"source": 32, "target": 23}, {"source": 32, "target": 29}, {"source": 32, "target": 30}, {"source": 32, "target": 31}, {"source": 32, "target": 33}, {"source": 33, "target": 8}, {"source": 33, "target": 9}, {"source": 33, "target": 13}, {"source": 33, "target": 14}, {"source": 33, "target": 15}, {"source": 33, "target": 18}, {"source": 33, "target": 19}, {"source": 33, "target": 20}, {"source": 33, "target": 23}, {"source": 33, "target": 26}, {"source": 33, "target": 27}, {"source": 33, "target": 28}, {"source": 33, "target": 29}, {"source": 33, "target": 30}, {"source": 33, "target": 31}, {"source": 33, "target": 32}, {"source": 33, "target": 22}]}
var colors = d3.scaleLinear().domain([0,0.1]).range(["white", "blue"])

// set the dimensions and margins of the graph
var margin = {top: 0, right: 60, bottom: 50, left: 60},
    width = 400 - margin.left - margin.right,
    height = 400 - margin.top - margin.bottom;

// append the svg object to the body of the page
var svg = d3.select("#my_dataviz")
.append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
.append("g")
    .attr("transform",
        "translate(" + margin.left + "," + margin.top + ")");

function graph(data) {

    // Initialize the links
    var link = svg
    .selectAll("line")
    .data(data.links)
    .enter()
    .append("line")
        .style("stroke", "#aaa")

    // Initialize the nodes
    var nodes = svg
    .selectAll("circle")
    .data(data.nodes)
    .enter()
    .append("circle")
        .attr("r", 20)
        .style("fill", function(d) {return colors(d.random_walk_pe[4])})

    // Let's list the force we wanna apply on the network
    var simulation = d3.forceSimulation(data.nodes) 
        .force("link", d3.forceLink()               
            .id(function(d) { return d.id; })    
            .links(data.links)            
        )
        .force("charge", d3.forceManyBody().strength(-400))   
        .force("center", d3.forceCenter(width / 2, height / 2)) 
        .on("end", ticked);

    // This function is run at each iteration of the force algorithm, updating the nodes position.
    function ticked() {
    link
        .attr("x1", function(d) { return d.source.x; })
        .attr("y1", function(d) { return d.source.y; })
        .attr("x2", function(d) { return d.target.x; })
        .attr("y2", function(d) { return d.target.y; });

    nodes
            .attr("cx", function (d) { return d.x+6; })
            .attr("cy", function(d) { return d.y-6; });
    }


    function updateChart(index) {
        
    nodes.attr("d", function(d) {return d.random_walk_pe[index]}).style("fill", function(d) {console.log(d.random_walk_pe[index]);return colors(d.random_walk_pe[index])});
}

    d3.select("#mySlider").on("change", function(d){
    selectedValue = this.value
    updateChart(selectedValue)
})
}

graph(data)